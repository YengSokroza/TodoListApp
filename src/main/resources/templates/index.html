<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>TodoList</title>
    <script src="https://cdn.tailwindcss.com"></script>

</head>
<body>
    <main class="max-w-[900px] mx-auto ">
        <section>
            <h1 class="text-blue-500 text-center text-3xl p-4">ToDo List</h1>
            <div class="p-8 relative overflow-x-auto  sm:rounded-lg">
                <div class="mb-4 flex gap-4 justify-between items-center">
                    <form th:action="@{/todos/search}" method="get">
                        <input type="text" name="task" class="bg-gray-50 py-2 px-3 rounded-xl w-[400px]" placeholder="Search by task" />
                        <select name="isDone" class="bg-gray-50 p-2 rounded-xl ">
                            <option value="">All</option>
                            <option value="true">Done</option>
                            <option value="false">Not Done</option>
                        </select>
                        <button type="submit" class=" py-2 px-4 bg-green-200 rounded-lg">Search</button>
                    </form>
                    <button class=" py-2 px-4 bg-blue-200 rounded-lg" ><a  href="/todos/new">Add New Task</a></button>

                </div>

                <table class="w-full text-sm text-left rtl:text-right text-gray-500 " >
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 ">
                    <tr class="text-based">
                        <th scope="col" class="px-6 py-3">ID</th>
                        <th scope="col" class="px-6 py-3">Task</th>
                        <th scope="col" class="px-6 py-3">Action</th>
                    </tr>
                    </thead>

                    <tr class="odd:bg-white even:bg-gray-50 " th:each="todo : ${todoList}">
                        <td class="px-6 py-4" th:text="${todo.id}"></td>
                        <td class="px-6 py-4" th:text="${todo.task}"></td>

                        <td class="px-6 py-4">
                            <a class="py-2 px-4 bg-green-200 rounded-lg" th:href="@{/todos/{id}(id=${todo.id})}">View</a>
                            <a class="py-2 px-4 bg-blue-200 rounded-lg" th:href="@{/todos/edit/{id}(id=${todo.id})}">Edit</a>
                            <a class="py-2 px-4 bg-red-200 rounded-lg" th:href="@{/todos/delete/{id}(id=${todo.id})}">Delete</a>
                        </td>
                    </tr>
                </table>

            </div>
        </section>

    </main>

</body>
</html>